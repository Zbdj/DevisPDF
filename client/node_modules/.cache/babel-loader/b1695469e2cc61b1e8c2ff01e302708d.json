{"ast":null,"code":"var _jsxFileName = \"/var/www/html/devis_sayse/src/components/Devis/devis.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport loader from '../../assets/loader.gif';\nimport './devis.css';\nexport default class Test extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onTextChange = e => {\n      const items = this.state.items;\n      const value = e.target.value;\n      let suggestions = [];\n\n      if (value.length > 0) {\n        const regex = new RegExp(\"^\".concat(value), 'i');\n        suggestions = items.sort().filter(v => regex.test(v));\n      }\n\n      this.setState({\n        suggestions,\n        text: value\n      });\n    };\n\n    this.state = {\n      items: [],\n      suggestions: [],\n      text: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"https://sayse.pipedrive.com/v1/deals?api_token=d168467b213a71acdc4ba5cb5b2cfe96529ac061&limit=500\").then(res => {\n      var data = [];\n      res.data.data.forEach(element => {\n        data.push(element.person_name);\n      }); // console.log([...new Set(data)]);\n\n      data = data.filter((v, i, arr) => arr.indexOf(v) === i);\n      this.setState({\n        items: data\n      });\n      console.log(res.data.data);\n    });\n  }\n\n  renderSuggestions() {\n    const suggestions = this.state.suggestions;\n\n    if (suggestions.length === 0) {\n      return null;\n    }\n\n    return React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \" \", suggestions.map((item, i) => React.createElement(\"li\", {\n      onClick: () => this.suggestionSelect(item),\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \" \", item, \" \")), \" \");\n  }\n\n  suggestionSelect(value) {\n    this.setState({\n      text: value,\n      suggestions: []\n    });\n  }\n\n  render() {\n    const text = this.state.text;\n\n    if (this.state.items.length === 0) {\n      return React.createElement(\"div\", {\n        className: \"container text-center\",\n        style: {\n          marginTop: '5%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: loader,\n        alt: \"Chargement\",\n        width: \"25%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \" \"), \" \");\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"client\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" \", React.createElement(\"h6\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \" Choisir un client \")), React.createElement(\"div\", {\n      className: \"AutocompleteText col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"client\",\n      value: text,\n      className: \"form-control\",\n      onChange: this.onTextChange,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, \" \", this.renderSuggestions(), \" \"), \" \"), \" \", React.createElement(\"div\", {\n      className: \"col-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \" Valider \"), \" \"), \" \");\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/devis_sayse/src/components/Devis/devis.js"],"names":["React","Component","axios","loader","Test","constructor","props","onTextChange","e","items","state","value","target","suggestions","length","regex","RegExp","sort","filter","v","test","setState","text","componentDidMount","get","then","res","data","forEach","element","push","person_name","i","arr","indexOf","console","log","renderSuggestions","map","item","suggestionSelect","render","marginTop"],"mappings":"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","sourcesContent":["import React, {\n    Component\n} from 'react';\nimport axios from 'axios';\nimport loader from '../../assets/loader.gif';\nimport './devis.css'\n\nexport default class Test extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: [],\n            suggestions: [],\n            text: '',\n        }\n    }\n\n    componentDidMount() {\n\n        axios.get(`https://sayse.pipedrive.com/v1/deals?api_token=d168467b213a71acdc4ba5cb5b2cfe96529ac061&limit=500`)\n            .then(res => {\n                var data = [];\n\n                res.data.data.forEach(element => {\n                    data.push(element.person_name)\n                });\n                // console.log([...new Set(data)]);\n\n                data = data.filter((v, i, arr) => arr.indexOf(v) === i)\n\n                this.setState({\n                    items: data\n                })\n                console.log(res.data.data)\n\n            });\n\n    }\n\n    onTextChange = (e) => {\n        const {\n            items\n        } = this.state\n\n        const value = e.target.value;\n        let suggestions = [];\n\n        if (value.length > 0) {\n            const regex = new RegExp(`^${value}`, 'i');\n            suggestions = items.sort().filter(v => regex.test(v));\n        }\n\n        this.setState({\n            suggestions,\n            text: value\n        })\n\n    }\n    renderSuggestions() {\n            const {\n                suggestions\n            } = this.state;\n\n            if (suggestions.length === 0) {\n                return null;\n            }\n            return ( <\n                ul > {\n                    suggestions.map((item, i) => < li onClick = {\n                            () => this.suggestionSelect(item)\n                        }\n                        key = {\n                            i\n                        } > {\n                            item\n                        } < /li>)} <\n                        /ul>\n                    );\n                }\n\n                suggestionSelect(value) {\n                    this.setState({\n                        text: value,\n                        suggestions: [],\n                    })\n                }\n\n                render() {\n                    const {\n                        text\n                    } = this.state\n\n                    if (this.state.items.length === 0) {\n                        return ( <\n                            div className = \"container text-center\"\n                            style = {\n                                {\n                                    marginTop: '5%'\n                                }\n                            } >\n                            <\n                            img src = {\n                                loader\n                            }\n                            alt = 'Chargement'\n                            width = '25%' > < /img> <\n                            /div>\n                        )\n                    }\n                    return ( <\n                        div style = {\n                            {\n                                marginTop: '2%'\n                            }\n                        } >\n                        <\n                        label\n                        for = \"client\" > < h6 > Choisir un client < /h6></label >\n                        <\n                        div className = 'AutocompleteText col-6' >\n                        <\n                        input name = \"client\"\n                        value = {\n                            text\n                        }\n                        className = \"form-control\"\n                        onChange = {\n                            this.onTextChange\n                        }\n                        type = \"text\" / >\n                        <\n                        ul > {\n                            this.renderSuggestions()\n                        } <\n                        /ul> <\n                        /div> <\n                        div className = \"col-6\" >\n                        <\n                        button type = \"submit\"\n                        className = \"btn btn-primary\"\n                        style = {\n                            {\n                                marginTop: '2%'\n                            }\n                        } > Valider < /button> <\n                        /div> <\n                        /div>\n                    );\n                }\n            }"]},"metadata":{},"sourceType":"module"}