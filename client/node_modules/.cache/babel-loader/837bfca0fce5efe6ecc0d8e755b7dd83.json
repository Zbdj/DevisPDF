{"ast":null,"code":"var _jsxFileName = \"/var/www/html/devis_sayse/src/views/test_input.js\";\nimport React, { Component } from 'react';\nimport { Select } from 'antd';\nexport default class SearchInput extends Component {\n  constructor() {\n    const Option = Select.Option;\n    let timeout;\n    let currentValue;\n    state = {\n      data: [],\n      value: undefined\n    };\n  }\n\n  fetch(value, callback) {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n\n    currentValue = value;\n\n    function fake() {// const str = querystring.encode({\n      //   code: 'utf-8',\n      //   q: value,\n      // });\n      // jsonp(`https://suggest.taobao.com/sug?${str}`)\n      //   .then(response => response.json())\n      //   .then(d => {\n      //     if (currentValue === value) {\n      //       const result = d.result;\n      //       const data = [];\n      //       result.forEach(r => {\n      //         data.push({\n      //           value: r[0],\n      //           text: r[0],\n      //         });\n      //       });\n      //       callback(data);\n      //     }\n      //   });\n    }\n\n    timeout = setTimeout(fake, 300);\n  }\n\n  render() {\n    const options = this.state.data.map(d => React.createElement(Option, {\n      key: d.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, d.text));\n    return React.createElement(SearchInput, {\n      placeholder: \"input search text\",\n      style: {\n        width: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Select, {\n      showSearch: true,\n      value: this.state.value,\n      placeholder: this.props.placeholder,\n      style: this.props.style,\n      defaultActiveFirstOption: false,\n      showArrow: false,\n      filterOption: false,\n      onSearch: this.handleSearch,\n      onChange: this.handleChange,\n      notFoundContent: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, options));\n  }\n\n} // {/* React.render(<SearchInput placeholder=\"input search text\" style={{ width: 200 }} />); */}","map":{"version":3,"sources":["/var/www/html/devis_sayse/src/views/test_input.js"],"names":["React","Component","Select","SearchInput","constructor","Option","timeout","currentValue","state","data","value","undefined","fetch","callback","clearTimeout","fake","setTimeout","render","options","map","d","text","width","props","placeholder","style","handleSearch","handleChange"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,MAAT,QAAuB,MAAvB;AAGA,eAAe,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAC/CG,EAAAA,WAAW,GAAG;AACV,UAAMC,MAAM,GAAGH,MAAM,CAACG,MAAtB;AAEA,QAAIC,OAAJ;AACA,QAAIC,YAAJ;AAEAC,IAAAA,KAAK,GAAG;AACJC,MAAAA,IAAI,EAAE,EADF;AAEJC,MAAAA,KAAK,EAAEC;AAFH,KAAR;AAIH;;AAIJC,EAAAA,KAAK,CAACF,KAAD,EAAQG,QAAR,EAAkB;AACpB,QAAIP,OAAJ,EAAa;AACTQ,MAAAA,YAAY,CAACR,OAAD,CAAZ;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH;;AACDC,IAAAA,YAAY,GAAGG,KAAf;;AAEA,aAASK,IAAT,GAAgB,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAEDT,IAAAA,OAAO,GAAGU,UAAU,CAACD,IAAD,EAAO,GAAP,CAApB;AACH;;AAWDE,EAAAA,MAAM,GAAG;AACL,UAAMC,OAAO,GAAG,KAAKV,KAAL,CAAWC,IAAX,CAAgBU,GAAhB,CAAoBC,CAAC,IAAI,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEA,CAAC,CAACV,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBU,CAAC,CAACC,IAAzB,CAAzB,CAAhB;AACA,WACI,oBAAC,WAAD;AAAa,MAAA,WAAW,EAAC,mBAAzB;AAA6C,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AACI,MAAA,UAAU,MADd;AAEI,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWE,KAFtB;AAGI,MAAA,WAAW,EAAE,KAAKa,KAAL,CAAWC,WAH5B;AAII,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,KAJtB;AAKI,MAAA,wBAAwB,EAAE,KAL9B;AAMI,MAAA,SAAS,EAAE,KANf;AAOI,MAAA,YAAY,EAAE,KAPlB;AAQI,MAAA,QAAQ,EAAE,KAAKC,YARnB;AASI,MAAA,QAAQ,EAAE,KAAKC,YATnB;AAUI,MAAA,eAAe,EAAE,IAVrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYKT,OAZL,CADJ,CADJ;AAkBH;;AA5EkD,C,CA+EnD","sourcesContent":["import React, { Component } from 'react';\n\nimport { Select } from 'antd';\n\n\nexport default class SearchInput extends Component {\n    constructor() {\n        const Option = Select.Option;\n\n        let timeout;\n        let currentValue;\n\n        state = {\n            data: [],\n            value: undefined,\n        };\n    }\n\n\n\n fetch(value, callback) {\n    if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n    }\n    currentValue = value;\n\n    function fake() {\n        // const str = querystring.encode({\n        //   code: 'utf-8',\n        //   q: value,\n        // });\n        // jsonp(`https://suggest.taobao.com/sug?${str}`)\n        //   .then(response => response.json())\n        //   .then(d => {\n        //     if (currentValue === value) {\n        //       const result = d.result;\n        //       const data = [];\n        //       result.forEach(r => {\n        //         data.push({\n        //           value: r[0],\n        //           text: r[0],\n        //         });\n        //       });\n        //       callback(data);\n        //     }\n        //   });\n    }\n\n    timeout = setTimeout(fake, 300);\n}\n\n\nhandleSearch = value => {\n    fetch(value, data => this.setState({ data }));\n};\n\nhandleChange = value => {\n    this.setState({ value });\n};\n\nrender() {\n    const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>);\n    return (\n        <SearchInput placeholder=\"input search text\" style={{ width: 200 }}>\n            <Select\n                showSearch\n                value={this.state.value}\n                placeholder={this.props.placeholder}\n                style={this.props.style}\n                defaultActiveFirstOption={false}\n                showArrow={false}\n                filterOption={false}\n                onSearch={this.handleSearch}\n                onChange={this.handleChange}\n                notFoundContent={null}\n            >\n                {options}\n            </Select>\n        </SearchInput>\n    );\n}\n}\n\n// {/* React.render(<SearchInput placeholder=\"input search text\" style={{ width: 200 }} />); */}"]},"metadata":{},"sourceType":"module"}