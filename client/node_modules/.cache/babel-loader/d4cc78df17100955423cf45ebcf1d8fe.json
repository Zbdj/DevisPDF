{"ast":null,"code":"var _jsxFileName = \"/var/www/html/devis_sayse/src/views/test_input.js\";\nimport React, { Component } from 'react';\nimport { Select } from 'antd';\nconst Option = Select.Option;\nlet timeout;\nlet currentValue;\n\nfunction fetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = null;\n  }\n\n  currentValue = value;\n\n  function fake() {// const str = querystring.encode({\n    //   code: 'utf-8',\n    //   q: value,\n    // });\n    // jsonp(`https://suggest.taobao.com/sug?${str}`)\n    //   .then(response => response.json())\n    //   .then(d => {\n    //     if (currentValue === value) {\n    //       const result = d.result;\n    //       const data = [];\n    //       result.forEach(r => {\n    //         data.push({\n    //           value: r[0],\n    //           text: r[0],\n    //         });\n    //       });\n    //       callback(data);\n    //     }\n    //   });\n  }\n\n  timeout = setTimeout(fake, 300);\n}\n\nclass SearchInpu extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      value: undefined\n    };\n\n    this.handleSearch = value => {\n      fetch(value, data => this.setState({\n        data\n      }));\n    };\n\n    this.handleChange = value => {\n      this.setState({\n        value\n      });\n    };\n  }\n\n  render() {\n    const options = this.state.data.map(d => React.createElement(Option, {\n      key: d.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, d.text));\n    return React.createElement(Select, {\n      showSearch: true,\n      value: this.state.value,\n      placeholder: this.props.placeholder,\n      style: this.props.style,\n      defaultActiveFirstOption: false,\n      showArrow: false,\n      filterOption: false,\n      onSearch: this.handleSearch,\n      onChange: this.handleChange,\n      notFoundContent: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, options);\n  }\n\n}\n\nReact.render(React.createElement(SearchInput, {\n  placeholder: \"input search text\",\n  style: {\n    width: 200\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 77\n  },\n  __self: this\n}));","map":{"version":3,"sources":["/var/www/html/devis_sayse/src/views/test_input.js"],"names":["React","Component","Select","Option","timeout","currentValue","fetch","value","callback","clearTimeout","fake","setTimeout","SearchInpu","state","data","undefined","handleSearch","setState","handleChange","render","options","map","d","text","props","placeholder","style","width"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,MAAT,QAAuB,MAAvB;AAEA,MAAMC,MAAM,GAAGD,MAAM,CAACC,MAAtB;AAEA,IAAIC,OAAJ;AACA,IAAIC,YAAJ;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsBC,QAAtB,EAAgC;AAC9B,MAAIJ,OAAJ,EAAa;AACXK,IAAAA,YAAY,CAACL,OAAD,CAAZ;AACAA,IAAAA,OAAO,GAAG,IAAV;AACD;;AACDC,EAAAA,YAAY,GAAGE,KAAf;;AAEA,WAASG,IAAT,GAAgB,CACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAEDN,EAAAA,OAAO,GAAGO,UAAU,CAACD,IAAD,EAAO,GAAP,CAApB;AACD;;AAED,MAAME,UAAN,SAAyBX,SAAzB,CAAmC;AAAA;AAAA;AAAA,SACjCY,KADiC,GACzB;AACNC,MAAAA,IAAI,EAAE,EADA;AAENP,MAAAA,KAAK,EAAEQ;AAFD,KADyB;;AAAA,SAMjCC,YANiC,GAMlBT,KAAK,IAAI;AACtBD,MAAAA,KAAK,CAACC,KAAD,EAAQO,IAAI,IAAI,KAAKG,QAAL,CAAc;AAAEH,QAAAA;AAAF,OAAd,CAAhB,CAAL;AACD,KARgC;;AAAA,SAUjCI,YAViC,GAUlBX,KAAK,IAAI;AACtB,WAAKU,QAAL,CAAc;AAAEV,QAAAA;AAAF,OAAd;AACD,KAZgC;AAAA;;AAcjCY,EAAAA,MAAM,GAAG;AACP,UAAMC,OAAO,GAAG,KAAKP,KAAL,CAAWC,IAAX,CAAgBO,GAAhB,CAAoBC,CAAC,IAAI,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEA,CAAC,CAACf,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBe,CAAC,CAACC,IAAzB,CAAzB,CAAhB;AACA,WACE,oBAAC,MAAD;AACE,MAAA,UAAU,MADZ;AAEE,MAAA,KAAK,EAAE,KAAKV,KAAL,CAAWN,KAFpB;AAGE,MAAA,WAAW,EAAE,KAAKiB,KAAL,CAAWC,WAH1B;AAIE,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,KAJpB;AAKE,MAAA,wBAAwB,EAAE,KAL5B;AAME,MAAA,SAAS,EAAE,KANb;AAOE,MAAA,YAAY,EAAE,KAPhB;AAQE,MAAA,QAAQ,EAAE,KAAKV,YARjB;AASE,MAAA,QAAQ,EAAE,KAAKE,YATjB;AAUE,MAAA,eAAe,EAAE,IAVnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYGE,OAZH,CADF;AAgBD;;AAhCgC;;AAmCnCpB,KAAK,CAACmB,MAAN,CAAa,oBAAC,WAAD;AAAa,EAAA,WAAW,EAAC,mBAAzB;AAA6C,EAAA,KAAK,EAAE;AAAEQ,IAAAA,KAAK,EAAE;AAAT,GAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAb","sourcesContent":["import React, { Component } from 'react';\n\nimport { Select } from 'antd';\n\nconst Option = Select.Option;\n\nlet timeout;\nlet currentValue;\n\nfunction fetch(value, callback) {\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = null;\n  }\n  currentValue = value;\n\n  function fake() {\n    // const str = querystring.encode({\n    //   code: 'utf-8',\n    //   q: value,\n    // });\n    // jsonp(`https://suggest.taobao.com/sug?${str}`)\n    //   .then(response => response.json())\n    //   .then(d => {\n    //     if (currentValue === value) {\n    //       const result = d.result;\n    //       const data = [];\n    //       result.forEach(r => {\n    //         data.push({\n    //           value: r[0],\n    //           text: r[0],\n    //         });\n    //       });\n    //       callback(data);\n    //     }\n    //   });\n  }\n\n  timeout = setTimeout(fake, 300);\n}\n\nclass SearchInpu extends Component {\n  state = {\n    data: [],\n    value: undefined,\n  };\n\n  handleSearch = value => {\n    fetch(value, data => this.setState({ data }));\n  };\n\n  handleChange = value => {\n    this.setState({ value });\n  };\n\n  render() {\n    const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>);\n    return (\n      <Select\n        showSearch\n        value={this.state.value}\n        placeholder={this.props.placeholder}\n        style={this.props.style}\n        defaultActiveFirstOption={false}\n        showArrow={false}\n        filterOption={false}\n        onSearch={this.handleSearch}\n        onChange={this.handleChange}\n        notFoundContent={null}\n      >\n        {options}\n      </Select>\n    );\n  }\n}\n\nReact.render(<SearchInput placeholder=\"input search text\" style={{ width: 200 }} />);"]},"metadata":{},"sourceType":"module"}