{"ast":null,"code":"var _jsxFileName = \"/var/www/html/devis_sayse/src/views/test_input.js\";\nimport React, { Component } from 'react';\nimport { Select } from 'antd';\nexport default class SearchInput extends Component {\n  constructor() {\n    this.state = {\n      data: [],\n      value: undefined\n    };\n  }\n\n  componentDidMount() {\n    var Option = Select.Option;\n    var timeout;\n    var currentValue;\n  }\n\n  fetch(value, callback) {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = null;\n    }\n\n    currentValue = value;\n\n    function fake() {// const str = querystring.encode({\n      //   code: 'utf-8',\n      //   q: value,\n      // });\n      // jsonp(`https://suggest.taobao.com/sug?${str}`)\n      //   .then(response => response.json())\n      //   .then(d => {\n      //     if (currentValue === value) {\n      //       const result = d.result;\n      //       const data = [];\n      //       result.forEach(r => {\n      //         data.push({\n      //           value: r[0],\n      //           text: r[0],\n      //         });\n      //       });\n      //       callback(data);\n      //     }\n      //   });\n    }\n\n    timeout = setTimeout(fake, 300);\n  }\n\n  render() {\n    const options = this.state.data.map(d => React.createElement(Option, {\n      key: d.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, d.text));\n    return React.createElement(SearchInput, {\n      placeholder: \"input search text\",\n      style: {\n        width: 200\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Select, {\n      showSearch: true,\n      value: this.state.value,\n      placeholder: this.props.placeholder,\n      style: this.props.style,\n      defaultActiveFirstOption: false,\n      showArrow: false,\n      filterOption: false,\n      onSearch: this.handleSearch,\n      onChange: this.handleChange,\n      notFoundContent: null,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, options));\n  }\n\n} // {/* React.render(<SearchInput placeholder=\"input search text\" style={{ width: 200 }} />); */}","map":{"version":3,"sources":["/var/www/html/devis_sayse/src/views/test_input.js"],"names":["React","Component","Select","SearchInput","constructor","state","data","value","undefined","componentDidMount","Option","timeout","currentValue","fetch","callback","clearTimeout","fake","setTimeout","render","options","map","d","text","width","props","placeholder","style","handleSearch","handleChange"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,MAAT,QAAuB,MAAvB;AAGA,eAAe,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAC/CG,EAAAA,WAAW,GAAG;AAGV,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE,EADG;AAETC,MAAAA,KAAK,EAAEC;AAFE,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,MAAM,GAAGR,MAAM,CAACQ,MAApB;AAEA,QAAIC,OAAJ;AACA,QAAIC,YAAJ;AACH;;AAEDC,EAAAA,KAAK,CAACN,KAAD,EAAQO,QAAR,EAAkB;AACnB,QAAIH,OAAJ,EAAa;AACTI,MAAAA,YAAY,CAACJ,OAAD,CAAZ;AACAA,MAAAA,OAAO,GAAG,IAAV;AACH;;AACDC,IAAAA,YAAY,GAAGL,KAAf;;AAEA,aAASS,IAAT,GAAgB,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAEDL,IAAAA,OAAO,GAAGM,UAAU,CAACD,IAAD,EAAO,GAAP,CAApB;AACH;;AAWDE,EAAAA,MAAM,GAAG;AACL,UAAMC,OAAO,GAAG,KAAKd,KAAL,CAAWC,IAAX,CAAgBc,GAAhB,CAAoBC,CAAC,IAAI,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEA,CAAC,CAACd,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuBc,CAAC,CAACC,IAAzB,CAAzB,CAAhB;AACA,WACI,oBAAC,WAAD;AAAa,MAAA,WAAW,EAAC,mBAAzB;AAA6C,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AACI,MAAA,UAAU,MADd;AAEI,MAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWE,KAFtB;AAGI,MAAA,WAAW,EAAE,KAAKiB,KAAL,CAAWC,WAH5B;AAII,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWE,KAJtB;AAKI,MAAA,wBAAwB,EAAE,KAL9B;AAMI,MAAA,SAAS,EAAE,KANf;AAOI,MAAA,YAAY,EAAE,KAPlB;AAQI,MAAA,QAAQ,EAAE,KAAKC,YARnB;AASI,MAAA,QAAQ,EAAE,KAAKC,YATnB;AAUI,MAAA,eAAe,EAAE,IAVrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAYKT,OAZL,CADJ,CADJ;AAkBH;;AA9E8C,C,CAiFnD","sourcesContent":["import React, { Component } from 'react';\n\nimport { Select } from 'antd';\n\n\nexport default class SearchInput extends Component {\n    constructor() {\n\n\n        this.state = {\n            data: [],\n            value: undefined,\n        };\n    }\n\n    componentDidMount() {\n        var Option = Select.Option;\n\n        var timeout;\n        var currentValue;\n    }\n\n    fetch(value, callback) {\n        if (timeout) {\n            clearTimeout(timeout);\n            timeout = null;\n        }\n        currentValue = value;\n\n        function fake() {\n            // const str = querystring.encode({\n            //   code: 'utf-8',\n            //   q: value,\n            // });\n            // jsonp(`https://suggest.taobao.com/sug?${str}`)\n            //   .then(response => response.json())\n            //   .then(d => {\n            //     if (currentValue === value) {\n            //       const result = d.result;\n            //       const data = [];\n            //       result.forEach(r => {\n            //         data.push({\n            //           value: r[0],\n            //           text: r[0],\n            //         });\n            //       });\n            //       callback(data);\n            //     }\n            //   });\n        }\n\n        timeout = setTimeout(fake, 300);\n    }\n\n\n    handleSearch = value => {\n        fetch(value, data => this.setState({ data }));\n    };\n\n    handleChange = value => {\n        this.setState({ value });\n    };\n\n    render() {\n        const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>);\n        return (\n            <SearchInput placeholder=\"input search text\" style={{ width: 200 }}>\n                <Select\n                    showSearch\n                    value={this.state.value}\n                    placeholder={this.props.placeholder}\n                    style={this.props.style}\n                    defaultActiveFirstOption={false}\n                    showArrow={false}\n                    filterOption={false}\n                    onSearch={this.handleSearch}\n                    onChange={this.handleChange}\n                    notFoundContent={null}\n                >\n                    {options}\n                </Select>\n            </SearchInput>\n        );\n    }\n}\n\n// {/* React.render(<SearchInput placeholder=\"input search text\" style={{ width: 200 }} />); */}"]},"metadata":{},"sourceType":"module"}