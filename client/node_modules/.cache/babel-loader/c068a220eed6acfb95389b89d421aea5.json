{"ast":null,"code":"var _jsxFileName = \"/var/www/html/devis_sayse/src/views/test.js\";\nimport React, { Component } from 'react';\nimport { Form, Input, Icon, Button } from 'antd';\nimport obj from '../assets/data.json';\nlet id = 0;\n\nclass DynamicFieldSet extends Component {\n  constructor(props) {\n    super(props);\n\n    this.remove = k => {\n      const form = this.props.form; // can use data-binding to get\n\n      const keys = form.getFieldValue('keys'); // We need at least one passenger\n\n      if (keys.length === 1) {\n        return;\n      } // can use data-binding to set\n\n\n      form.setFieldsValue({\n        keys: keys.filter(key => key !== k)\n      });\n    };\n\n    this.add = () => {\n      const form = this.props.form; // can use data-binding to get\n\n      const keys = form.getFieldValue('keys');\n      const nextKeys = keys.concat(id++); // can use data-binding to set\n      // important! notify form to detect changes\n\n      form.setFieldsValue({\n        keys: nextKeys\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          const keys = values.keys,\n                names = values.names;\n          console.log('Received values of form: ', values);\n          console.log('Merged values:', keys.map(key => names[key]));\n        }\n      });\n    };\n\n    this.state = {\n      data_service: [],\n      list_service: undefined,\n      text_service: \"\",\n      price_abo: '',\n      marge: '',\n      scroll_service: {\n        overflowY: 'scroll'\n      },\n      prix_id: \"\",\n      service_id: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      data_service: obj\n    }, () => {});\n  }\n\n  //----------------------------------------------------------------------------------------------------------------------------------------------------------\n  searchDataService(e) {\n    //indexOf(e.target.value) !== -1\n    var queryData = [];\n\n    if (e.target.value !== '') {\n      this.setState({\n        scroll_service: {\n          overflowY: 'scroll',\n          height: '250px',\n          width: '265px'\n        }\n      }); // this.state.data.forEach(function (person) {\n\n      for (let i = 0; i < this.state.data_service.length; i++) {\n        if (this.state.data_service[i].Designation_solution !== null) {\n          if (this.state.data_service[i].Designation_solution.trim().toLowerCase().match(e.target.value)) {\n            // if (this.state.data[i].Designation_solution.trim().toLowerCase().indexOf(e.target.value) !== -1) {\n            // if (queryData.length < 15) {\n            queryData.push(this.state.data_service[i]); // }\n            // }\n          }\n        }\n      }\n    } else {\n      this.setState({\n        scroll_service: {\n          overflowY: 'scroll'\n        }\n      });\n    }\n\n    this.setState({\n      list_service: queryData\n    });\n    this.setState({\n      text_service: e.target.value\n    });\n  }\n\n  selectService(value, e) {\n    this.setState({\n      text_service: value.Designation_solution,\n      price_abo: value.Abo_mois_ht,\n      marge: value.FAS_HT,\n      list_service: [],\n      scroll_service: {\n        overflowY: 'scroll'\n      }\n    });\n    return null;\n  }\n\n  searchPrice(e) {\n    this.setState({\n      price_abo: e.target.value\n    });\n  } //----------------------------------------------------------------------------------------------------------------------------------------------------------\n\n\n  editField(value, param) {\n    this.setState({\n      [param]: value\n    });\n  }\n\n  render() {\n    const input = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"service\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \" Service :\"), React.createElement(Input, {\n      name: \"service\",\n      onChange: this.searchDataService.bind(this),\n      placeholder: \"Rechercher un service\",\n      value: this.state.text_service,\n      className: \"form-control\",\n      onClick: e => this.editField(e.target.value, 'service_id'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), this.state.list_service ? React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      id: \"scroll\",\n      style: this.state.scroll_service,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, this.state.list_service.map((value, i) => {\n      return React.createElement(\"li\", {\n        key: i,\n        onClick: e => this.selectService(value, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \" \", value.Designation_solution, \"  \");\n    }), \" \"), \" \") : null, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"prix_abo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \" Prix :\"), React.createElement(Input, {\n      name: \"prix_abo\",\n      placeholder: \"prix_abo\",\n      value: this.state.price_abo,\n      onChange: this.searchPrice.bind(this),\n      className: \"form-control\",\n      onClick: e => this.editField(e.target.value, 'prix_id'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"text-danger\",\n      style: {\n        marginTop: '2%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Marge abo : \", this.state.marge));\n    const _this$props$form = this.props.form,\n          getFieldDecorator = _this$props$form.getFieldDecorator,\n          getFieldValue = _this$props$form.getFieldValue;\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 4\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 20\n        }\n      }\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0\n        },\n        sm: {\n          span: 20,\n          offset: 4\n        }\n      }\n    };\n    getFieldDecorator('keys', {\n      initialValue: []\n    });\n    const keys = getFieldValue('keys');\n    const formItems = keys.map((k, index) => React.createElement(Form.Item, Object.assign({}, index === 0 ? formItemLayout : formItemLayoutWithOutLabel, {\n      label: index === 0 ? 'Passengers' : '',\n      required: false,\n      key: k,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), getFieldDecorator(\"names[\".concat(k, \"]\"), {\n      validateTrigger: ['onChange', 'onBlur'],\n      rules: [{\n        required: true,\n        whitespace: true,\n        message: \"Please input passenger's name or delete this field.\"\n      }]\n    })( // <Input placeholder=\"test\" style={{ width: '60%', marginRight: 8 }} />\n    input), keys.length > 1 ? React.createElement(Icon, {\n      className: \"dynamic-delete-button\",\n      type: \"minus-circle-o\",\n      onClick: () => this.remove(k),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }) : null));\n    return React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, formItems, React.createElement(Form.Item, Object.assign({}, formItemLayoutWithOutLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"dashed\",\n      onClick: this.add,\n      style: {\n        width: '60%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), \" Add field\")), React.createElement(Form.Item, Object.assign({}, formItemLayoutWithOutLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}\n\nconst WrappedDynamicFieldSet = Form.create({\n  name: 'dynamic_form_item'\n})(DynamicFieldSet);\nexport default WrappedDynamicFieldSet; // ReactDOM.render(<WrappedDynamicFieldSet />, mountNode);","map":{"version":3,"sources":["/var/www/html/devis_sayse/src/views/test.js"],"names":["React","Component","Form","Input","Icon","Button","obj","id","DynamicFieldSet","constructor","props","remove","k","form","keys","getFieldValue","length","setFieldsValue","filter","key","add","nextKeys","concat","handleSubmit","e","preventDefault","validateFields","err","values","names","console","log","map","state","data_service","list_service","undefined","text_service","price_abo","marge","scroll_service","overflowY","prix_id","service_id","componentDidMount","setState","searchDataService","queryData","target","value","height","width","i","Designation_solution","trim","toLowerCase","match","push","selectService","Abo_mois_ht","FAS_HT","searchPrice","editField","param","render","input","bind","marginTop","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","formItemLayoutWithOutLabel","offset","initialValue","formItems","index","validateTrigger","rules","required","whitespace","message","WrappedDynamicFieldSet","create","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Icon, Button } from 'antd';\nimport obj from '../assets/data.json'\n\nlet id = 0;\n\nclass DynamicFieldSet extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data_service: [],\n      list_service: undefined,\n      text_service: \"\",\n      price_abo: '',\n      marge: '',\n      scroll_service: { overflowY: 'scroll' },\n      prix_id: \"\",\n      service_id: \"\",\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ data_service: obj }, () => {\n\n    })\n\n  }\n\n  remove = k => {\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    // We need at least one passenger\n    if (keys.length === 1) {\n      return;\n    }\n\n    // can use data-binding to set\n    form.setFieldsValue({\n      keys: keys.filter(key => key !== k),\n    });\n  };\n\n  add = () => {\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    const nextKeys = keys.concat(id++);\n    // can use data-binding to set\n    // important! notify form to detect changes\n    form.setFieldsValue({\n      keys: nextKeys,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        const { keys, names } = values;\n        console.log('Received values of form: ', values);\n        console.log('Merged values:', keys.map(key => names[key]));\n      }\n    });\n  };\n\n  //----------------------------------------------------------------------------------------------------------------------------------------------------------\n  searchDataService(e) {\n    //indexOf(e.target.value) !== -1\n    var queryData = [];\n\n\n    if (e.target.value !== '') {\n      this.setState({ scroll_service: { overflowY: 'scroll', height: '250px', width: '265px' } })\n\n      // this.state.data.forEach(function (person) {\n      for (let i = 0; i < this.state.data_service.length; i++) {\n\n        if (this.state.data_service[i].Designation_solution !== null) {\n          if (this.state.data_service[i].Designation_solution.trim().toLowerCase().match(e.target.value)) {\n\n            // if (this.state.data[i].Designation_solution.trim().toLowerCase().indexOf(e.target.value) !== -1) {\n            // if (queryData.length < 15) {\n            queryData.push(this.state.data_service[i]);\n\n            // }\n            // }\n          }\n\n        }\n      }\n\n    }\n    else {\n      this.setState({ scroll_service: { overflowY: 'scroll' } })\n    }\n\n    this.setState({\n      list_service: queryData\n    });\n    this.setState({\n      text_service: e.target.value\n    })\n\n\n  }\n\n  selectService(value, e) {\n\n    this.setState({\n      text_service: value.Designation_solution,\n      price_abo: value.Abo_mois_ht,\n      marge: value.FAS_HT,\n      list_service: [],\n      scroll_service: { overflowY: 'scroll' }\n    })\n\n    return (\n      null\n    );\n  }\n\n\n  searchPrice(e) {\n    this.setState({\n      price_abo: e.target.value\n    })\n  }\n  //----------------------------------------------------------------------------------------------------------------------------------------------------------\n  editField(value, param){\n\n    this.setState({\n      [param]: value,\n    })\n  }\n\n  render() {\n    const input =\n      <div>\n        <label\n          htmlFor=\"service\" > Service :</label>\n        <Input name=\"service\"\n          onChange={\n            this.searchDataService.bind(this)\n          }\n          placeholder=\"Rechercher un service\"\n          value={\n            this.state.text_service\n          }\n          className=\"form-control\" onClick={(e) => this.editField(e.target.value, 'service_id')} />\n\n        {\n          (this.state.list_service) ?\n\n            <div className=\"\" >\n              <ul id=\"scroll\" style={this.state.scroll_service}>\n                {\n                  this.state.list_service.map((value, i) => {\n                    return (\n                      <li key={i} onClick={\n                        (e) => this.selectService(value, e)}> {value.Designation_solution}  </li>\n                    )\n\n                  })\n                } </ul> </div> : null}<br></br>\n        <label htmlFor=\"prix_abo\" > Prix :</label>\n        <Input name=\"prix_abo\"\n          placeholder=\"prix_abo\"\n          value={\n            this.state.price_abo\n          }\n          onChange={\n            this.searchPrice.bind(this)\n          }\n          className=\"form-control\" onClick={(e) => this.editField(e.target.value, 'prix_id')} />\n        <p className=\"text-danger\" style={{ marginTop: '2%' }}>Marge abo : {this.state.marge}</p>\n\n\n      </div>\n\n    const { getFieldDecorator, getFieldValue } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 4 },\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 20 },\n      },\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: {\n        xs: { span: 24, offset: 0 },\n        sm: { span: 20, offset: 4 },\n      },\n    };\n    getFieldDecorator('keys', { initialValue: [] });\n    const keys = getFieldValue('keys');\n    const formItems = keys.map((k, index) => (\n      <Form.Item\n        {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n        label={index === 0 ? 'Passengers' : ''}\n        required={false}\n        key={k}\n      >\n        {getFieldDecorator(`names[${k}]`, {\n          validateTrigger: ['onChange', 'onBlur'],\n          rules: [\n            {\n              required: true,\n              whitespace: true,\n              message: \"Please input passenger's name or delete this field.\",\n            },\n          ],\n        })(\n          // <Input placeholder=\"test\" style={{ width: '60%', marginRight: 8 }} />\n          input\n        )}\n        {keys.length > 1 ? (\n          <Icon\n            className=\"dynamic-delete-button\"\n            type=\"minus-circle-o\"\n            onClick={() => this.remove(k)}\n          />\n        ) : null}\n      </Form.Item>\n    ));\n    return (\n      <Form onSubmit={this.handleSubmit}>\n        {formItems}\n        <Form.Item {...formItemLayoutWithOutLabel}>\n          <Button type=\"dashed\" onClick={this.add} style={{ width: '60%' }}>\n            <Icon type=\"plus\"  /> Add field\n          </Button>\n        </Form.Item>\n        <Form.Item {...formItemLayoutWithOutLabel}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedDynamicFieldSet = Form.create({ name: 'dynamic_form_item' })(DynamicFieldSet);\nexport default WrappedDynamicFieldSet;\n// ReactDOM.render(<WrappedDynamicFieldSet />, mountNode);"]},"metadata":{},"sourceType":"module"}