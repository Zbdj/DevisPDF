{"ast":null,"code":"var _jsxFileName = \"/var/www/html/devis_sayse/src/views/test.js\";\n// import React, { Component } from 'react';\n// import axios from 'axios';\n// import loader from '../assets/loader.gif';\n// import './test.css'\n// export default class App extends Component {\n//     constructor() {\n//         super();\n//         this.state = {\n//             data: [],\n//             list: undefined,\n//             text: \"\",\n//         }\n//     }\n//     componentDidMount() {\n//         var data = [];\n//         axios.get(`https://sayse.pipedrive.com/v1/deals?api_token=d168467b213a71acdc4ba5cb5b2cfe96529ac061&limit=500`)\n//             .then(res => {\n//                 res.data.data.forEach(element => {\n//                     data.push(element.org_name)\n//                 });\n//                 data = data.filter((v, i, arr) => arr.indexOf(v) === i)\n//                 this.setState(() => ({\n//                     data: {\n//                         ...this.state.data,\n//                         org_name: data,\n//                     },\n//                 }))\n//             });\n//     }\n//     select(value) {\n//         this.setState({ text: value, list: [] })\n//         return (\n//             null\n//         );\n//     }\n//     searchData(e) {\n//         var queryData = [];\n//         if (e.target.value !== '') {\n//             this.state.data.org_name.forEach(function (person_1) {\n//                 if (person_1 !== null) {\n//                     if (person_1.toLowerCase().indexOf(e.target.value) !== -1) {\n//                         if (queryData.length < 10) {\n//                             queryData.push(person_1);\n//                         }\n//                     }\n//                 }\n//             });\n//             // console.log(queryData)\n//         }\n//         this.setState({ list: queryData });\n//         this.setState({ text: e.target.value })\n//     }\n//     render() {\n//         const { text } = this.state\n//         if (this.state.data.length === 0) {\n//             return (\n//                 <div className=\"container text-center\" style={{ marginTop: '5%' }}>\n//                     <img src={loader} alt='Chargement' width='25%'></img>\n//                 </div>\n//             )\n//         }\n//         return (\n//             <div className=\"AutocompleteText container\">\n//                 <input onChange={this.searchData.bind(this)} placeholder=\"Rechercher un client\" value={text} className=\"form-control\" />\n//                 {(this.state.list) ?\n//                     <div>\n//                         <ul>\n//                             {this.state.list.map((value, i) => {\n//                                 return (\n//                                     <li key={i} onClick={() => this.select(value)}>\n//                                         {value}\n//                                     </li>\n//                                 )\n//                             })}\n//                         </ul>\n//                     </div> : null}\n//             </div>\n//         )\n//     }\n// }\nimport React, { Component } from 'react';\nimport { Form, Input, Icon, Button } from 'antd';\nlet id = 0;\nexport default class DynamicFieldSet extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.remove = k => {\n      const form = this.props.form; // can use data-binding to get\n\n      const keys = form.getFieldValue('keys'); // We need at least one passenger\n\n      if (keys.length === 1) {\n        return;\n      } // can use data-binding to set\n\n\n      form.setFieldsValue({\n        keys: keys.filter(key => key !== k)\n      });\n    };\n\n    this.add = () => {\n      const form = this.props.form; // can use data-binding to get\n\n      const keys = form.getFieldValue('keys');\n      const nextKeys = keys.concat(id++); // can use data-binding to set\n      // important! notify form to detect changes\n\n      form.setFieldsValue({\n        keys: nextKeys\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          const keys = values.keys,\n                names = values.names;\n          console.log('Received values of form: ', values);\n          console.log('Merged values:', keys.map(key => names[key]));\n        }\n      });\n    };\n  }\n\n  render() {\n    const WrappedDynamicFieldSet = Form.create({\n      name: 'dynamic_form_item'\n    })(DynamicFieldSet);\n    const _this$props$form = this.props.form,\n          getFieldDecorator = _this$props$form.getFieldDecorator,\n          getFieldValue = _this$props$form.getFieldValue;\n    const formItemLayout = {\n      labelCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 4\n        }\n      },\n      wrapperCol: {\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 20\n        }\n      }\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0\n        },\n        sm: {\n          span: 20,\n          offset: 4\n        }\n      }\n    };\n    getFieldDecorator('keys', {\n      initialValue: []\n    });\n    const keys = getFieldValue('keys');\n    const formItems = keys.map((k, index) => React.createElement(Form.Item, Object.assign({}, index === 0 ? formItemLayout : formItemLayoutWithOutLabel, {\n      label: index === 0 ? 'Passengers' : '',\n      required: false,\n      key: k,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), getFieldDecorator(\"names[\".concat(k, \"]\"), {\n      validateTrigger: ['onChange', 'onBlur'],\n      rules: [{\n        required: true,\n        whitespace: true,\n        message: \"Please input passenger's name or delete this field.\"\n      }]\n    })(React.createElement(Input, {\n      placeholder: \"passenger name\",\n      style: {\n        width: '60%',\n        marginRight: 8\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), keys.length > 1 ? React.createElement(Icon, {\n      className: \"dynamic-delete-button\",\n      type: \"minus-circle-o\",\n      onClick: () => this.remove(k),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }) : null));\n    return React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, formItems, React.createElement(Form.Item, Object.assign({}, formItemLayoutWithOutLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"dashed\",\n      onClick: this.add,\n      style: {\n        width: '60%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      type: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), \" Add field\")), React.createElement(Form.Item, Object.assign({}, formItemLayoutWithOutLabel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/devis_sayse/src/views/test.js"],"names":["React","Component","Form","Input","Icon","Button","id","DynamicFieldSet","remove","k","form","props","keys","getFieldValue","length","setFieldsValue","filter","key","add","nextKeys","concat","handleSubmit","e","preventDefault","validateFields","err","values","names","console","log","map","render","WrappedDynamicFieldSet","create","name","getFieldDecorator","formItemLayout","labelCol","xs","span","sm","wrapperCol","formItemLayoutWithOutLabel","offset","initialValue","formItems","index","validateTrigger","rules","required","whitespace","message","width","marginRight"],"mappings":"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","sourcesContent":["// import React, { Component } from 'react';\n// import axios from 'axios';\n// import loader from '../assets/loader.gif';\n// import './test.css'\n\n// export default class App extends Component {\n//     constructor() {\n//         super();\n//         this.state = {\n//             data: [],\n//             list: undefined,\n//             text: \"\",\n//         }\n//     }\n\n//     componentDidMount() {\n//         var data = [];\n\n//         axios.get(`https://sayse.pipedrive.com/v1/deals?api_token=d168467b213a71acdc4ba5cb5b2cfe96529ac061&limit=500`)\n//             .then(res => {\n\n//                 res.data.data.forEach(element => {\n//                     data.push(element.org_name)\n//                 });\n\n//                 data = data.filter((v, i, arr) => arr.indexOf(v) === i)\n\n//                 this.setState(() => ({\n//                     data: {\n//                         ...this.state.data,\n//                         org_name: data,\n//                     },\n//                 }))\n\n//             });\n//     }\n\n//     select(value) {\n\n//         this.setState({ text: value, list: [] })\n//         return (\n//             null\n//         );\n//     }\n\n//     searchData(e) {\n//         var queryData = [];\n//         if (e.target.value !== '') {\n//             this.state.data.org_name.forEach(function (person_1) {\n//                 if (person_1 !== null) {\n//                     if (person_1.toLowerCase().indexOf(e.target.value) !== -1) {\n//                         if (queryData.length < 10) {\n//                             queryData.push(person_1);\n\n//                         }\n//                     }\n//                 }\n//             });\n\n//             // console.log(queryData)\n\n//         }\n\n//         this.setState({ list: queryData });\n//         this.setState({ text: e.target.value })\n\n//     }\n//     render() {\n//         const { text } = this.state\n\n//         if (this.state.data.length === 0) {\n//             return (\n//                 <div className=\"container text-center\" style={{ marginTop: '5%' }}>\n//                     <img src={loader} alt='Chargement' width='25%'></img>\n//                 </div>\n//             )\n//         }\n\n//         return (\n//             <div className=\"AutocompleteText container\">\n//                 <input onChange={this.searchData.bind(this)} placeholder=\"Rechercher un client\" value={text} className=\"form-control\" />\n//                 {(this.state.list) ?\n//                     <div>\n//                         <ul>\n//                             {this.state.list.map((value, i) => {\n//                                 return (\n//                                     <li key={i} onClick={() => this.select(value)}>\n//                                         {value}\n//                                     </li>\n//                                 )\n//                             })}\n//                         </ul>\n//                     </div> : null}\n//             </div>\n//         )\n//     }\n// }\n\n\n\nimport React, { Component } from 'react';\nimport { Form, Input, Icon, Button } from 'antd';\n\nlet id = 0;\nexport default class DynamicFieldSet extends Component {\n  remove = k => {\n      \n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    // We need at least one passenger\n    if (keys.length === 1) {\n      return;\n    }\n\n    // can use data-binding to set\n    form.setFieldsValue({\n      keys: keys.filter(key => key !== k),\n    });\n  };\n\n  add = () => {\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    const nextKeys = keys.concat(id++);\n    // can use data-binding to set\n    // important! notify form to detect changes\n    form.setFieldsValue({\n      keys: nextKeys,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        const { keys, names } = values;\n        console.log('Received values of form: ', values);\n        console.log('Merged values:', keys.map(key => names[key]));\n      }\n    });\n  };\n\n  render() {\n    const WrappedDynamicFieldSet = Form.create({ name: 'dynamic_form_item' })(DynamicFieldSet);\n    const { getFieldDecorator, getFieldValue } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 4 },\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 20 },\n      },\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: {\n        xs: { span: 24, offset: 0 },\n        sm: { span: 20, offset: 4 },\n      },\n    };\n    getFieldDecorator('keys', { initialValue: [] });\n    const keys = getFieldValue('keys');\n    const formItems = keys.map((k, index) => (\n      <Form.Item\n        {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n        label={index === 0 ? 'Passengers' : ''}\n        required={false}\n        key={k}\n      >\n        {getFieldDecorator(`names[${k}]`, {\n          validateTrigger: ['onChange', 'onBlur'],\n          rules: [\n            {\n              required: true,\n              whitespace: true,\n              message: \"Please input passenger's name or delete this field.\",\n            },\n          ],\n        })(<Input placeholder=\"passenger name\" style={{ width: '60%', marginRight: 8 }} />)}\n        {keys.length > 1 ? (\n          <Icon\n            className=\"dynamic-delete-button\"\n            type=\"minus-circle-o\"\n            onClick={() => this.remove(k)}\n          />\n        ) : null}\n      </Form.Item>\n    ));\n    return (\n      <Form onSubmit={this.handleSubmit}>\n        {formItems}\n        <Form.Item {...formItemLayoutWithOutLabel}>\n          <Button type=\"dashed\" onClick={this.add} style={{ width: '60%' }}>\n            <Icon type=\"plus\" /> Add field\n          </Button>\n        </Form.Item>\n        <Form.Item {...formItemLayoutWithOutLabel}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\n"]},"metadata":{},"sourceType":"module"}